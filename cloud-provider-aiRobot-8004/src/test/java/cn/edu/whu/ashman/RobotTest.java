package cn.edu.whu.ashman;import cn.edu.whu.ashman.dao.IQuestionDao;import cn.edu.whu.ashman.entities.Question;import cn.edu.whu.ashman.service.Impl.Chat;import cn.edu.whu.ashman.service.Impl.QuestionService;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import java.io.*;import java.net.URL;/** * @Author Liu WeiFan * @create 2020年7月11日 20：56 */@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTestpublic class RobotTest {    @Autowired    Chat chat = null;    @Autowired    IQuestionDao questionDao = null;    @Autowired    QuestionService questionService = null;    @Test    public void testRespond() throws Exception {        /**         Mother mother = new Mother();         //mother.setUp();         AliceBot bot = mother.newInstance();         System.err.println("Alice>" + bot.respond("welcome"));         String input = RobotTest.input();         while (true) {         if (Chat.END.equalsIgnoreCase(input)) break;         System.err.println("Alice>" + bot.respond(input));         }         //return bot.respond(input);*/        System.err.println(chat.getRespond("食品（含保健食品）经营许可,申请餐饮服务,住所和经营场所可以不一致吗？"));        //System.err.println(chat.getSimilarQuestion("申请低保的程序"));        System.err.println(chat.getSimilarQuestionWithIndexOf("身份证"));        System.err.println(questionService.getHotQuestion());    }    @Test    public void addQuestionsToDB() throws Exception{        File file = getFile("static/question.txt");        System.out.println(file.getAbsolutePath());        InputStream in = new FileInputStream(file);        BufferedReader br = new BufferedReader(new InputStreamReader(in));        String line = null;        while ((line = br.readLine()) != null) {            if(questionDao.selectQuestion(line) != null)            questionDao.insertQuestion(new Question(line,0));        }    }    private File getFile(String fileName) {        ClassLoader classLoader = getClass().getClassLoader();        /**         getResource()方法会去classpath下找这个文件，获取到url resource, 得到这个资源后，调用url.getFile获取到 文件 的绝对路径         */        URL url = classLoader.getResource(fileName);        /**         * url.getFile() 得到这个文件的绝对路径         */        System.out.println(url.getFile());        File file = new File(url.getFile());        return file;    }}